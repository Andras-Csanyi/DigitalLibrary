@using DigitalLibrary.MasterData.DomainModel
@{
    if (DimensionStructureParameter != null)
    {
        <ul>
            <li>
                <strong>@DimensionStructureParameter.Name</strong>
                <BSButton Size="Size.Small"
                          Color="Color.Primary"
                          @onclick="@(async () => await UpdateDocumentStructureInTheTreeAsync(DimensionStructureParameter.Id)
                                        .ConfigureAwait(false))">
                    Update Node
                </BSButton>
                <BSButton Size="Size.Small"
                          Color="Color.Danger"
                          @onclick="@(async () => await DeleteDocumentStructureFromTreeAsync(DimensionStructureParameter.Id)
                                        .ConfigureAwait(false))">
                    Delete Dimension
                </BSButton>
                <BSButton Size="Size.Small"
                          Color="Color.Primary"
                          @onclick="@(async () => await AddDocumentStructureToTreeAsync(DimensionStructureParameter.Id,
                                        ParentDimensionStructureIdParameter)
                                        .ConfigureAwait(false))">
                    Insert New Child Dimension Structure
                </BSButton>
            </li>
            @{
                if (DimensionStructureParameter.ChildDimensionStructures != null)
                {
                    if (DimensionStructureParameter.ChildDimensionStructures.Any())
                    {
                        foreach (DimensionStructure dimensionStructure in DimensionStructureParameter.ChildDimensionStructures)
                        {
                            <DimensionStructureTree DimensionStructureParameter="@dimensionStructure"
                                                    ParentDimensionStructureIdParameter="@ParentDimensionStructureIdParameter">
                            </DimensionStructureTree>
                        }
                    }
                }
            }
        </ul>
    }
    else
    {
        <div>DimensionStructureParameter is null</div>
    }
}

<BSModal @ref="_deleteDocumentStructureBsModalWindow">
    <BSModalHeader @onclick="@(async () => await DeleteDocumentStructureFromTreeAsync(DimensionStructureParameter.Id)
                                 .ConfigureAwait(false))">
        <label>Are You Sure?</label>
    </BSModalHeader>
    <BSModalBody>
        <label>Dimension Structure Name:</label>
        @DimensionStructureParameter.Name
    </BSModalBody>
    <BSModalFooter>
        <BSButton Size="Size.Small"
                  Color="Color.Secondary"
                  @onclick="@(async () => await CancelDeleteDocumentStructureConfirmedAsync().ConfigureAwait(false))">
            Cancel
        </BSButton>
        <BSButton Size="Size.Small"
                  Color="Color.Danger"
                  @onclick="@(async () => await DeleteDocumentStructureConfirmedAsync().ConfigureAwait(false))">
            Delete
        </BSButton>
    </BSModalFooter>
</BSModal>

<BSModal @ref="_updateDocumentStructureInTheTreeModalWindow">
    <BSModalHeader @onclick="@(async () => await CancelDocumentStructureUpdateInTreeModalWindowAsync()
                                 .ConfigureAwait(false))">
        Update Dimension Structure in Tree
    </BSModalHeader>
    <BSModalBody>
        <BSTable>
            <BSTableHead>
                <BSTableHeadCell>Id</BSTableHeadCell>
                <BSTableHeadCell>Name</BSTableHeadCell>
                <BSTableHeadCell>Desc</BSTableHeadCell>
                <BSTableHeadCell></BSTableHeadCell>
            </BSTableHead>
            <BSTableBody>
                @{
                    if (_dimensionStructures != null)
                    {
                        foreach (DimensionStructure dimensionStructure in _dimensionStructures)
                        {
                            if (_selectedForEditDimensionStructureId == dimensionStructure.Id)
                            {
                                <BSTableRow Color="Color.Primary">
                                    <BSTableCell>
                                        @dimensionStructure.Id
                                    </BSTableCell>
                                    <BSTableCell>
                                        @dimensionStructure.Name
                                    </BSTableCell>
                                    <BSTableCell>
                                        @dimensionStructure.Desc</BSTableCell>
                                    <BSTableCell>
                                    </BSTableCell>
                                </BSTableRow>
                            }
                            else
                            {
                                <BSTableRow>
                                    <BSTableCell>
                                        @dimensionStructure.Id
                                    </BSTableCell>
                                    <BSTableCell>
                                        @dimensionStructure.Name
                                    </BSTableCell>
                                    <BSTableCell>
                                        @dimensionStructure.Desc</BSTableCell>
                                    <BSTableCell>
                                    </BSTableCell>
                                </BSTableRow>
                            }
                        }
                    }
                }
            </BSTableBody>
        </BSTable>
    </BSModalBody>
    <BSModalFooter></BSModalFooter>
</BSModal>